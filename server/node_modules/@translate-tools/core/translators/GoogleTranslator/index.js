"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.supportedLanguages = exports.GoogleTranslatorTokenFree = exports.GoogleTranslator = exports.AbstractGoogleTranslator = void 0;
var _axios = _interopRequireDefault(require("axios"));
var _queryString = require("query-string");
var _xpath = _interopRequireDefault(require("xpath"));
var _xmldom = require("@xmldom/xmldom");
var _BaseTranslator = require("../../util/BaseTranslator");
var _token = require("./token");
var _utils = require("./utils");
var _languages = require("../../util/languages");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
var __extends = void 0 && (void 0).__extends || function () {
  var extendStatics = function (d, b) {
    extendStatics = Object.setPrototypeOf || {
      __proto__: []
    } instanceof Array && function (d, b) {
      d.__proto__ = b;
    } || function (d, b) {
      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];
    };
    return extendStatics(d, b);
  };
  return function (d, b) {
    if (typeof b !== "function" && b !== null) throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    extendStatics(d, b);
    function __() {
      this.constructor = d;
    }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  };
}();
var __assign = void 0 && (void 0).__assign || function () {
  __assign = Object.assign || function (t) {
    for (var s, i = 1, n = arguments.length; i < n; i++) {
      s = arguments[i];
      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
    }
    return t;
  };
  return __assign.apply(this, arguments);
};
var __awaiter = void 0 && (void 0).__awaiter || function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __generator = void 0 && (void 0).__generator || function (thisArg, body) {
  var _ = {
      label: 0,
      sent: function () {
        if (t[0] & 1) throw t[1];
        return t[1];
      },
      trys: [],
      ops: []
    },
    f,
    y,
    t,
    g;
  return g = {
    next: verb(0),
    "throw": verb(1),
    "return": verb(2)
  }, typeof Symbol === "function" && (g[Symbol.iterator] = function () {
    return this;
  }), g;
  function verb(n) {
    return function (v) {
      return step([n, v]);
    };
  }
  function step(op) {
    if (f) throw new TypeError("Generator is already executing.");
    while (g && (g = 0, op[0] && (_ = 0)), _) try {
      if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
      if (y = 0, t) op = [op[0] & 2, t.value];
      switch (op[0]) {
        case 0:
        case 1:
          t = op;
          break;
        case 4:
          _.label++;
          return {
            value: op[1],
            done: false
          };
        case 5:
          _.label++;
          y = op[1];
          op = [0];
          continue;
        case 7:
          op = _.ops.pop();
          _.trys.pop();
          continue;
        default:
          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
            _ = 0;
            continue;
          }
          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
            _.label = op[1];
            break;
          }
          if (op[0] === 6 && _.label < t[1]) {
            _.label = t[1];
            t = op;
            break;
          }
          if (t && _.label < t[2]) {
            _.label = t[2];
            _.ops.push(op);
            break;
          }
          if (t[2]) _.ops.pop();
          _.trys.pop();
          continue;
      }
      op = body.call(thisArg, _);
    } catch (e) {
      op = [6, e];
      y = 0;
    } finally {
      f = t = 0;
    }
    if (op[0] & 5) throw op[1];
    return {
      value: op[0] ? op[1] : void 0,
      done: true
    };
  }
};
var __read = void 0 && (void 0).__read || function (o, n) {
  var m = typeof Symbol === "function" && o[Symbol.iterator];
  if (!m) return o;
  var i = m.call(o),
    r,
    ar = [],
    e;
  try {
    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
  } catch (error) {
    e = {
      error: error
    };
  } finally {
    try {
      if (r && !r.done && (m = i["return"])) m.call(i);
    } finally {
      if (e) throw e.error;
    }
  }
  return ar;
};
/**
 * Map with languages aliases.
 *
 * Google translator use legacy codes for some languages,
 * this map useful to use actual language codes by aliases
 *
 * @link https://xml.coverpages.org/iso639a.html
 */
var fixedLanguagesMap = {
  he: 'iw',
  jv: 'jw'
};
/**
 * Raw languages array
 */
// eslint-disable
// prettier-ignore
var supportedLanguages = ['af', 'ak', 'am', 'ar', 'as', 'ay', 'az', 'be', 'bg', 'bho', 'bm', 'bn', 'bs', 'ca', 'ceb', 'ckb', 'co', 'cs', 'cy', 'da', 'de', 'doi', 'dv', 'ee', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fa', 'fi', 'fr', 'fy', 'ga', 'gd', 'gl', 'gn', 'gom', 'gu', 'ha', 'haw', 'hi', 'hmn', 'hr', 'ht', 'hu', 'hy', 'id', 'ig', 'ilo', 'is', 'it', 'iw', 'ja', 'jw', 'ka', 'kk', 'km', 'kn', 'ko', 'kri', 'ku', 'ky', 'la', 'lb', 'lg', 'ln', 'lo', 'lt', 'lus', 'lv', 'mai', 'mg', 'mi', 'mk', 'ml', 'mn', 'mni-Mtei', 'mr', 'ms', 'mt', 'my', 'ne', 'nl', 'no', 'nso', 'ny', 'om', 'or', 'pa', 'pl', 'ps', 'pt', 'qu', 'ro', 'ru', 'rw', 'sa', 'sd', 'si', 'sk', 'sl', 'sm', 'sn', 'so', 'sq', 'sr', 'st', 'su', 'sv', 'sw', 'ta', 'te', 'tg', 'th', 'ti', 'tk', 'tl', 'tr', 'ts', 'tt', 'ug', 'uk', 'ur', 'uz', 'vi', 'xh', 'yi', 'yo', 'zh-CN', 'zh-TW', 'zu'];
// eslint-enable
exports.supportedLanguages = supportedLanguages;
var parseXMLResponse = function (text) {
  var doc;
  try {
    doc = new _xmldom.DOMParser().parseFromString(text);
  } catch (err) {
    console.error(err);
    return null;
  }
  var nodesWithTranslation = _xpath.default.select('//pre/*[not(self::i)]', doc);
  if (nodesWithTranslation.length === 0) return null;
  return nodesWithTranslation.map(function (node) {
    var textNodes = _xpath.default.select('//text()', node);
    if (textNodes.length > 1) {
      console.debug('More than one text node found');
    }
    return textNodes.length === 0 ? '' : textNodes.join(' ');
  }).join(' ');
};
/**
 * Common class for google translator implementations
 */
var AbstractGoogleTranslator = /** @class */function (_super) {
  __extends(AbstractGoogleTranslator, _super);
  function AbstractGoogleTranslator() {
    return _super !== null && _super.apply(this, arguments) || this;
  }
  AbstractGoogleTranslator.isSupportedAutoFrom = function () {
    return true;
  };
  AbstractGoogleTranslator.getSupportedLanguages = function () {
    var reversedLanguagesMap = Object.fromEntries(Object.entries(fixedLanguagesMap).map(function (_a) {
      var _b = __read(_a, 2),
        key = _b[0],
        val = _b[1];
      return [val, key];
    }));
    return (0, _languages.getLanguageCodesISO639v2)(supportedLanguages.map(function (lang) {
      var _a;
      // Replace legacy language codes to actual
      return (_a = reversedLanguagesMap[lang]) !== null && _a !== void 0 ? _a : lang;
    }));
  };
  AbstractGoogleTranslator.prototype.getLengthLimit = function () {
    return 4000;
  };
  AbstractGoogleTranslator.prototype.getRequestsTimeout = function () {
    return 300;
  };
  /**
   * Map ISO lang codes to google translator lang codes
   */
  AbstractGoogleTranslator.prototype.getFixedLanguage = function (lang) {
    var _a;
    if (lang === 'zh') return 'zh-CN';
    return (_a = fixedLanguagesMap[lang]) !== null && _a !== void 0 ? _a : lang;
  };
  return AbstractGoogleTranslator;
}(_BaseTranslator.BaseTranslator);
exports.AbstractGoogleTranslator = AbstractGoogleTranslator;
/**
 * Translator implementation which use Google API with token from https://translate.google.com
 */
var GoogleTranslator = /** @class */function (_super) {
  __extends(GoogleTranslator, _super);
  function GoogleTranslator() {
    return _super !== null && _super.apply(this, arguments) || this;
  }
  GoogleTranslator.prototype.checkLimitExceeding = function (text) {
    if (Array.isArray(text)) {
      var encodedText = this.encodeForBatch(text).join('');
      var extra = encodedText.length - this.getLengthLimit();
      return extra > 0 ? extra : 0;
    } else {
      var extra = text.length - this.getLengthLimit();
      return extra > 0 ? extra : 0;
    }
  };
  GoogleTranslator.prototype.translate = function (text, from, to) {
    var _this = this;
    return (0, _token.getToken)(text).then(function (_a) {
      var tk = _a.value;
      var apiPath = 'https://translate.google.com/translate_a/single';
      var data = {
        client: 't',
        sl: _this.getFixedLanguage(from),
        tl: _this.getFixedLanguage(to),
        hl: _this.getFixedLanguage(to),
        dt: ['at', 'bd', 'ex', 'ld', 'md', 'qca', 'rw', 'rm', 'ss', 't'],
        ie: 'UTF-8',
        oe: 'UTF-8',
        otf: 1,
        ssel: 0,
        tsel: 0,
        kc: 7,
        q: text,
        tk: tk
      };
      var url = apiPath + '?' + (0, _queryString.stringify)(data);
      return _axios.default.get(_this.wrapUrlToCorsProxy(url), {
        withCredentials: false,
        headers: _this.options.headers
      }).then(function (rsp) {
        return rsp.data;
      }).then(function (rsp) {
        if (!(rsp instanceof Array) || !(rsp[0] instanceof Array)) {
          throw new Error('Unexpected response');
        }
        var translatedText = rsp[0].map(function (chunk) {
          return chunk instanceof Array && typeof chunk[0] === 'string' ? chunk[0] : '';
        }).join('');
        return translatedText;
      });
    });
  };
  GoogleTranslator.prototype.translateBatch = function (text, from, to) {
    var _this = this;
    var preparedText = this.encodeForBatch(text);
    return (0, _token.getToken)(preparedText.join('')).then(function (_a) {
      var tk = _a.value;
      var apiPath = 'https://translate.googleapis.com/translate_a/t';
      var data = {
        anno: 3,
        client: 'te',
        v: '1.0',
        format: 'html',
        sl: _this.getFixedLanguage(from),
        tl: _this.getFixedLanguage(to),
        tk: tk
      };
      var url = apiPath + '?' + (0, _queryString.stringify)(data);
      var body = preparedText.map(function (text) {
        return "&q=".concat(encodeURIComponent(text));
      }).join('');
      return (0, _axios.default)({
        url: _this.wrapUrlToCorsProxy(url),
        method: 'POST',
        withCredentials: false,
        headers: __assign({
          'Content-Type': 'application/x-www-form-urlencoded'
        }, _this.options.headers),
        data: body
      }).then(function (rsp) {
        return rsp.data;
      }).then(function (rawResp) {
        try {
          if (!Array.isArray(rawResp)) {
            throw new Error('Unexpected response');
          }
          var isSingleResponseMode_1 = text.length === 1;
          var result_1 = [];
          (0, _utils.visitArrayItems)(rawResp, function (obj) {
            if (isSingleResponseMode_1 && result_1.length === 1) return;
            if (typeof obj !== 'string') return;
            if (isSingleResponseMode_1) {
              var parsedText = parseXMLResponse(obj);
              result_1.push(parsedText || obj);
            } else {
              var parsedText = parseXMLResponse(obj);
              if (parsedText !== null) {
                result_1.push(parsedText);
              }
            }
          });
          if (result_1.length !== text.length) {
            throw new Error('Mismatching a lengths of original and translated arrays');
          }
          return result_1;
        } catch (err) {
          console.warn('Got response', rawResp);
          throw err;
        }
      });
    });
  };
  GoogleTranslator.prototype.encodeForBatch = function (textList) {
    return textList.map(function (text, i) {
      return "<pre><a i=\"".concat(i, "\">").concat(text, "</a></pre>");
    });
  };
  GoogleTranslator.translatorName = 'GoogleTranslator';
  return GoogleTranslator;
}(AbstractGoogleTranslator);
exports.GoogleTranslator = GoogleTranslator;
/**
 * Translator implementation which use Google API without token
 */
var GoogleTranslatorTokenFree = /** @class */function (_super) {
  __extends(GoogleTranslatorTokenFree, _super);
  function GoogleTranslatorTokenFree() {
    var _this = _super !== null && _super.apply(this, arguments) || this;
    _this.translate = function (text, from, to) {
      return __awaiter(_this, void 0, void 0, function () {
        var _a, translation;
        return __generator(this, function (_b) {
          switch (_b.label) {
            case 0:
              return [4 /*yield*/, this.translateBatch([text], from, to)];
            case 1:
              _a = __read.apply(void 0, [_b.sent(), 1]), translation = _a[0];
              return [2 /*return*/, translation];
          }
        });
      });
    };
    return _this;
  }
  GoogleTranslatorTokenFree.prototype.translateBatch = function (text, from, to) {
    var apiPath = 'https://translate.googleapis.com/translate_a/t';
    var data = {
      client: 'dict-chrome-ex',
      sl: this.getFixedLanguage(from),
      tl: this.getFixedLanguage(to),
      q: text
    };
    var url = apiPath + '?' + (0, _queryString.stringify)(data);
    return (0, _axios.default)({
      url: this.wrapUrlToCorsProxy(url),
      method: 'GET',
      withCredentials: false,
      headers: __assign({
        'Content-Type': 'application/x-www-form-urlencoded'
      }, this.options.headers)
    }).then(function (rsp) {
      return rsp.data;
    }).then(function (rawResp) {
      try {
        if (!Array.isArray(rawResp)) {
          throw new Error('Unexpected response');
        }
        var intermediateTextsArray_1 = [];
        (0, _utils.visitArrayItems)(rawResp, function (obj) {
          if (typeof obj === 'string') {
            intermediateTextsArray_1.push(obj);
          }
        });
        var result = [];
        var isSingleResponseMode = text.length === 1;
        var isOneToOneMappingMode = intermediateTextsArray_1.length === text.length;
        for (var idx in intermediateTextsArray_1) {
          var text_1 = intermediateTextsArray_1[idx];
          if (isSingleResponseMode) {
            result.push(text_1);
            break;
          }
          // Each second text it's not translation if not 1-1 mapping
          var isTranslation = isOneToOneMappingMode || Number(idx) % 2 === 0;
          if (isTranslation) {
            result.push(text_1);
          }
        }
        if (result.length !== text.length) {
          console.warn('Translation result', result);
          throw new Error('Mismatching a lengths of original and translated arrays');
        }
        return result;
      } catch (err) {
        console.warn('Got response', rawResp);
        throw err;
      }
    });
  };
  GoogleTranslatorTokenFree.translatorName = 'GoogleTranslatorTokenFree';
  return GoogleTranslatorTokenFree;
}(AbstractGoogleTranslator);
exports.GoogleTranslatorTokenFree = GoogleTranslatorTokenFree;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNsYXRvcnMvR29vZ2xlVHJhbnNsYXRvci9pbmRleC5qcyIsIm5hbWVzIjpbIl9heGlvcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3F1ZXJ5U3RyaW5nIiwiX3hwYXRoIiwiX3htbGRvbSIsIl9CYXNlVHJhbnNsYXRvciIsIl90b2tlbiIsIl91dGlscyIsIl9sYW5ndWFnZXMiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImZpeGVkTGFuZ3VhZ2VzTWFwIiwiaGUiLCJqdiIsInN1cHBvcnRlZExhbmd1YWdlcyIsImV4cG9ydHMiLCJwYXJzZVhNTFJlc3BvbnNlIiwidGV4dCIsImRvYyIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsIm5vZGVzV2l0aFRyYW5zbGF0aW9uIiwieHBhdGgiLCJzZWxlY3QiLCJsZW5ndGgiLCJtYXAiLCJub2RlIiwidGV4dE5vZGVzIiwiZGVidWciLCJqb2luIiwiQWJzdHJhY3RHb29nbGVUcmFuc2xhdG9yIiwiX3N1cGVyIiwiX19leHRlbmRzIiwiaXNTdXBwb3J0ZWRBdXRvRnJvbSIsImdldFN1cHBvcnRlZExhbmd1YWdlcyIsInJldmVyc2VkTGFuZ3VhZ2VzTWFwIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwiX2EiLCJfYiIsIl9fcmVhZCIsImtleSIsInZhbCIsImdldExhbmd1YWdlQ29kZXNJU082Mzl2MiIsImxhbmciLCJwcm90b3R5cGUiLCJnZXRMZW5ndGhMaW1pdCIsImdldFJlcXVlc3RzVGltZW91dCIsImdldEZpeGVkTGFuZ3VhZ2UiLCJCYXNlVHJhbnNsYXRvciIsIkdvb2dsZVRyYW5zbGF0b3IiLCJjaGVja0xpbWl0RXhjZWVkaW5nIiwiQXJyYXkiLCJpc0FycmF5IiwiZW5jb2RlZFRleHQiLCJlbmNvZGVGb3JCYXRjaCIsImV4dHJhIiwidHJhbnNsYXRlIiwiZnJvbSIsInRvIiwiX3RoaXMiLCJnZXRUb2tlbiIsInRoZW4iLCJ0ayIsInZhbHVlIiwiYXBpUGF0aCIsImRhdGEiLCJjbGllbnQiLCJzbCIsInRsIiwiaGwiLCJkdCIsImllIiwib2UiLCJvdGYiLCJzc2VsIiwidHNlbCIsImtjIiwicSIsInVybCIsInN0cmluZ2lmeSIsImF4aW9zIiwiZ2V0Iiwid3JhcFVybFRvQ29yc1Byb3h5Iiwid2l0aENyZWRlbnRpYWxzIiwiaGVhZGVycyIsIm9wdGlvbnMiLCJyc3AiLCJFcnJvciIsInRyYW5zbGF0ZWRUZXh0IiwiY2h1bmsiLCJ0cmFuc2xhdGVCYXRjaCIsInByZXBhcmVkVGV4dCIsImFubm8iLCJ2IiwiZm9ybWF0IiwiYm9keSIsImNvbmNhdCIsImVuY29kZVVSSUNvbXBvbmVudCIsIm1ldGhvZCIsIl9fYXNzaWduIiwicmF3UmVzcCIsImlzU2luZ2xlUmVzcG9uc2VNb2RlXzEiLCJyZXN1bHRfMSIsInZpc2l0QXJyYXlJdGVtcyIsInBhcnNlZFRleHQiLCJwdXNoIiwid2FybiIsInRleHRMaXN0IiwiaSIsInRyYW5zbGF0b3JOYW1lIiwiR29vZ2xlVHJhbnNsYXRvclRva2VuRnJlZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiX19hd2FpdGVyIiwic2VudCIsInRyYW5zbGF0aW9uIiwiaW50ZXJtZWRpYXRlVGV4dHNBcnJheV8xIiwicmVzdWx0IiwiaXNTaW5nbGVSZXNwb25zZU1vZGUiLCJpc09uZVRvT25lTWFwcGluZ01vZGUiLCJpZHgiLCJ0ZXh0XzEiLCJpc1RyYW5zbGF0aW9uIiwiTnVtYmVyIl0sInNvdXJjZXMiOlsidHJhbnNsYXRvcnMvR29vZ2xlVHJhbnNsYXRvci9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgc3RyaW5naWZ5IH0gZnJvbSAncXVlcnktc3RyaW5nJztcbmltcG9ydCB4cGF0aCBmcm9tICd4cGF0aCc7XG5pbXBvcnQgeyBET01QYXJzZXIgfSBmcm9tICdAeG1sZG9tL3htbGRvbSc7XG5cbmltcG9ydCB7IGxhbmdDb2RlLCBsYW5nQ29kZVdpdGhBdXRvIH0gZnJvbSAnLi4vLi4vdHlwZXMvVHJhbnNsYXRvcic7XG5pbXBvcnQgeyBCYXNlVHJhbnNsYXRvciB9IGZyb20gJy4uLy4uL3V0aWwvQmFzZVRyYW5zbGF0b3InO1xuaW1wb3J0IHsgZ2V0VG9rZW4gfSBmcm9tICcuL3Rva2VuJztcbmltcG9ydCB7IHZpc2l0QXJyYXlJdGVtcyB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgZ2V0TGFuZ3VhZ2VDb2Rlc0lTTzYzOXYyIH0gZnJvbSAnLi4vLi4vdXRpbC9sYW5ndWFnZXMnO1xuXG4vKipcbiAqIE1hcCB3aXRoIGxhbmd1YWdlcyBhbGlhc2VzLlxuICpcbiAqIEdvb2dsZSB0cmFuc2xhdG9yIHVzZSBsZWdhY3kgY29kZXMgZm9yIHNvbWUgbGFuZ3VhZ2VzLFxuICogdGhpcyBtYXAgdXNlZnVsIHRvIHVzZSBhY3R1YWwgbGFuZ3VhZ2UgY29kZXMgYnkgYWxpYXNlc1xuICpcbiAqIEBsaW5rIGh0dHBzOi8veG1sLmNvdmVycGFnZXMub3JnL2lzbzYzOWEuaHRtbFxuICovXG5jb25zdCBmaXhlZExhbmd1YWdlc01hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcblx0aGU6ICdpdycsXG5cdGp2OiAnancnLFxufTtcblxuLyoqXG4gKiBSYXcgbGFuZ3VhZ2VzIGFycmF5XG4gKi9cbi8vIGVzbGludC1kaXNhYmxlXG4vLyBwcmV0dGllci1pZ25vcmVcbmV4cG9ydCBjb25zdCBzdXBwb3J0ZWRMYW5ndWFnZXMgPSBbXG5cdCdhZicsICdhaycsICdhbScsICdhcicsICdhcycsICdheScsICdheicsICdiZScsICdiZycsICdiaG8nLFxuXHQnYm0nLCAnYm4nLCAnYnMnLCAnY2EnLCAnY2ViJywgJ2NrYicsICdjbycsICdjcycsICdjeScsICdkYScsXG5cdCdkZScsICdkb2knLCAnZHYnLCAnZWUnLCAnZWwnLCAnZW4nLCAnZW8nLCAnZXMnLCAnZXQnLCAnZXUnLFxuXHQnZmEnLCAnZmknLCAnZnInLCAnZnknLCAnZ2EnLCAnZ2QnLCAnZ2wnLCAnZ24nLCAnZ29tJywgJ2d1Jyxcblx0J2hhJywgJ2hhdycsICdoaScsICdobW4nLCAnaHInLCAnaHQnLCAnaHUnLCAnaHknLCAnaWQnLCAnaWcnLFxuXHQnaWxvJywgJ2lzJywgJ2l0JywgJ2l3JywgJ2phJywgJ2p3JywgJ2thJywgJ2trJywgJ2ttJywgJ2tuJyxcblx0J2tvJywgJ2tyaScsICdrdScsICdreScsICdsYScsICdsYicsICdsZycsICdsbicsICdsbycsICdsdCcsXG5cdCdsdXMnLCAnbHYnLCAnbWFpJywgJ21nJywgJ21pJywgJ21rJywgJ21sJywgJ21uJywgJ21uaS1NdGVpJywgJ21yJyxcblx0J21zJywgJ210JywgJ215JywgJ25lJywgJ25sJywgJ25vJywgJ25zbycsICdueScsICdvbScsICdvcicsXG5cdCdwYScsICdwbCcsICdwcycsICdwdCcsICdxdScsICdybycsICdydScsICdydycsICdzYScsICdzZCcsXG5cdCdzaScsICdzaycsICdzbCcsICdzbScsICdzbicsICdzbycsICdzcScsICdzcicsICdzdCcsICdzdScsXG5cdCdzdicsICdzdycsICd0YScsICd0ZScsICd0ZycsICd0aCcsICd0aScsICd0aycsICd0bCcsICd0cicsXG5cdCd0cycsICd0dCcsICd1ZycsICd1aycsICd1cicsICd1eicsICd2aScsICd4aCcsICd5aScsICd5bycsXG5cdCd6aC1DTicsICd6aC1UVycsICd6dSdcbl07XG4vLyBlc2xpbnQtZW5hYmxlXG5cbmNvbnN0IHBhcnNlWE1MUmVzcG9uc2UgPSAodGV4dDogc3RyaW5nKSA9PiB7XG5cdGxldCBkb2M6IERvY3VtZW50O1xuXHR0cnkge1xuXHRcdGRvYyA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcodGV4dCk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGNvbnNvbGUuZXJyb3IoZXJyKTtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGNvbnN0IG5vZGVzV2l0aFRyYW5zbGF0aW9uID0geHBhdGguc2VsZWN0KCcvL3ByZS8qW25vdChzZWxmOjppKV0nLCBkb2MpO1xuXG5cdGlmIChub2Rlc1dpdGhUcmFuc2xhdGlvbi5sZW5ndGggPT09IDApIHJldHVybiBudWxsO1xuXHRyZXR1cm4gbm9kZXNXaXRoVHJhbnNsYXRpb25cblx0XHQubWFwKChub2RlKSA9PiB7XG5cdFx0XHRjb25zdCB0ZXh0Tm9kZXMgPSB4cGF0aC5zZWxlY3QoJy8vdGV4dCgpJywgbm9kZSBhcyBOb2RlKTtcblx0XHRcdGlmICh0ZXh0Tm9kZXMubGVuZ3RoID4gMSkge1xuXHRcdFx0XHRjb25zb2xlLmRlYnVnKCdNb3JlIHRoYW4gb25lIHRleHQgbm9kZSBmb3VuZCcpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGV4dE5vZGVzLmxlbmd0aCA9PT0gMCA/ICcnIDogdGV4dE5vZGVzLmpvaW4oJyAnKTtcblx0XHR9KVxuXHRcdC5qb2luKCcgJyk7XG59O1xuXG4vKipcbiAqIENvbW1vbiBjbGFzcyBmb3IgZ29vZ2xlIHRyYW5zbGF0b3IgaW1wbGVtZW50YXRpb25zXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdEdvb2dsZVRyYW5zbGF0b3IgZXh0ZW5kcyBCYXNlVHJhbnNsYXRvciB7XG5cdHB1YmxpYyBzdGF0aWMgaXNTdXBwb3J0ZWRBdXRvRnJvbSgpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHB1YmxpYyBzdGF0aWMgZ2V0U3VwcG9ydGVkTGFuZ3VhZ2VzKCk6IGxhbmdDb2RlW10ge1xuXHRcdGNvbnN0IHJldmVyc2VkTGFuZ3VhZ2VzTWFwID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuXHRcdFx0T2JqZWN0LmVudHJpZXMoZml4ZWRMYW5ndWFnZXNNYXApLm1hcCgoW2tleSwgdmFsXSkgPT4gW3ZhbCwga2V5XSksXG5cdFx0KTtcblxuXHRcdHJldHVybiBnZXRMYW5ndWFnZUNvZGVzSVNPNjM5djIoXG5cdFx0XHRzdXBwb3J0ZWRMYW5ndWFnZXMubWFwKChsYW5nKSA9PiB7XG5cdFx0XHRcdC8vIFJlcGxhY2UgbGVnYWN5IGxhbmd1YWdlIGNvZGVzIHRvIGFjdHVhbFxuXHRcdFx0XHRyZXR1cm4gcmV2ZXJzZWRMYW5ndWFnZXNNYXBbbGFuZ10gPz8gbGFuZztcblx0XHRcdH0pLFxuXHRcdCk7XG5cdH1cblxuXHRwdWJsaWMgZ2V0TGVuZ3RoTGltaXQoKSB7XG5cdFx0cmV0dXJuIDQwMDA7XG5cdH1cblxuXHRwdWJsaWMgZ2V0UmVxdWVzdHNUaW1lb3V0KCkge1xuXHRcdHJldHVybiAzMDA7XG5cdH1cblxuXHQvKipcblx0ICogTWFwIElTTyBsYW5nIGNvZGVzIHRvIGdvb2dsZSB0cmFuc2xhdG9yIGxhbmcgY29kZXNcblx0ICovXG5cdHByb3RlY3RlZCBnZXRGaXhlZExhbmd1YWdlKGxhbmc6IGxhbmdDb2RlV2l0aEF1dG8pIHtcblx0XHRpZiAobGFuZyA9PT0gJ3poJykgcmV0dXJuICd6aC1DTic7XG5cdFx0cmV0dXJuIGZpeGVkTGFuZ3VhZ2VzTWFwW2xhbmddID8/IGxhbmc7XG5cdH1cbn1cblxuLyoqXG4gKiBUcmFuc2xhdG9yIGltcGxlbWVudGF0aW9uIHdoaWNoIHVzZSBHb29nbGUgQVBJIHdpdGggdG9rZW4gZnJvbSBodHRwczovL3RyYW5zbGF0ZS5nb29nbGUuY29tXG4gKi9cbmV4cG9ydCBjbGFzcyBHb29nbGVUcmFuc2xhdG9yIGV4dGVuZHMgQWJzdHJhY3RHb29nbGVUcmFuc2xhdG9yIHtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSB0cmFuc2xhdG9yTmFtZSA9ICdHb29nbGVUcmFuc2xhdG9yJztcblxuXHRwdWJsaWMgY2hlY2tMaW1pdEV4Y2VlZGluZyh0ZXh0OiBzdHJpbmcgfCBzdHJpbmdbXSkge1xuXHRcdGlmIChBcnJheS5pc0FycmF5KHRleHQpKSB7XG5cdFx0XHRjb25zdCBlbmNvZGVkVGV4dCA9IHRoaXMuZW5jb2RlRm9yQmF0Y2godGV4dCkuam9pbignJyk7XG5cdFx0XHRjb25zdCBleHRyYSA9IGVuY29kZWRUZXh0Lmxlbmd0aCAtIHRoaXMuZ2V0TGVuZ3RoTGltaXQoKTtcblx0XHRcdHJldHVybiBleHRyYSA+IDAgPyBleHRyYSA6IDA7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnN0IGV4dHJhID0gdGV4dC5sZW5ndGggLSB0aGlzLmdldExlbmd0aExpbWl0KCk7XG5cdFx0XHRyZXR1cm4gZXh0cmEgPiAwID8gZXh0cmEgOiAwO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyB0cmFuc2xhdGUodGV4dDogc3RyaW5nLCBmcm9tOiBsYW5nQ29kZVdpdGhBdXRvLCB0bzogbGFuZ0NvZGUpIHtcblx0XHRyZXR1cm4gZ2V0VG9rZW4odGV4dCkudGhlbigoeyB2YWx1ZTogdGsgfSkgPT4ge1xuXHRcdFx0Y29uc3QgYXBpUGF0aCA9ICdodHRwczovL3RyYW5zbGF0ZS5nb29nbGUuY29tL3RyYW5zbGF0ZV9hL3NpbmdsZSc7XG5cblx0XHRcdGNvbnN0IGRhdGEgPSB7XG5cdFx0XHRcdGNsaWVudDogJ3QnLFxuXHRcdFx0XHRzbDogdGhpcy5nZXRGaXhlZExhbmd1YWdlKGZyb20pLFxuXHRcdFx0XHR0bDogdGhpcy5nZXRGaXhlZExhbmd1YWdlKHRvKSxcblx0XHRcdFx0aGw6IHRoaXMuZ2V0Rml4ZWRMYW5ndWFnZSh0byksXG5cdFx0XHRcdGR0OiBbJ2F0JywgJ2JkJywgJ2V4JywgJ2xkJywgJ21kJywgJ3FjYScsICdydycsICdybScsICdzcycsICd0J10sXG5cdFx0XHRcdGllOiAnVVRGLTgnLFxuXHRcdFx0XHRvZTogJ1VURi04Jyxcblx0XHRcdFx0b3RmOiAxLFxuXHRcdFx0XHRzc2VsOiAwLFxuXHRcdFx0XHR0c2VsOiAwLFxuXHRcdFx0XHRrYzogNyxcblx0XHRcdFx0cTogdGV4dCxcblx0XHRcdFx0dGssXG5cdFx0XHR9O1xuXG5cdFx0XHRjb25zdCB1cmwgPSBhcGlQYXRoICsgJz8nICsgc3RyaW5naWZ5KGRhdGEpO1xuXG5cdFx0XHRyZXR1cm4gYXhpb3Ncblx0XHRcdFx0LmdldCh0aGlzLndyYXBVcmxUb0NvcnNQcm94eSh1cmwpLCB7XG5cdFx0XHRcdFx0d2l0aENyZWRlbnRpYWxzOiBmYWxzZSxcblx0XHRcdFx0XHRoZWFkZXJzOiB0aGlzLm9wdGlvbnMuaGVhZGVycyxcblx0XHRcdFx0fSlcblx0XHRcdFx0LnRoZW4oKHJzcCkgPT4gcnNwLmRhdGEpXG5cdFx0XHRcdC50aGVuKChyc3ApID0+IHtcblx0XHRcdFx0XHRpZiAoIShyc3AgaW5zdGFuY2VvZiBBcnJheSkgfHwgIShyc3BbMF0gaW5zdGFuY2VvZiBBcnJheSkpIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCByZXNwb25zZScpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGNvbnN0IHRyYW5zbGF0ZWRUZXh0ID0gcnNwWzBdXG5cdFx0XHRcdFx0XHQubWFwKChjaHVuaykgPT5cblx0XHRcdFx0XHRcdFx0Y2h1bmsgaW5zdGFuY2VvZiBBcnJheSAmJiB0eXBlb2YgY2h1bmtbMF0gPT09ICdzdHJpbmcnXG5cdFx0XHRcdFx0XHRcdFx0PyBjaHVua1swXVxuXHRcdFx0XHRcdFx0XHRcdDogJycsXG5cdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQuam9pbignJyk7XG5cblx0XHRcdFx0XHRyZXR1cm4gdHJhbnNsYXRlZFRleHQ7XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0cHVibGljIHRyYW5zbGF0ZUJhdGNoKHRleHQ6IHN0cmluZ1tdLCBmcm9tOiBsYW5nQ29kZVdpdGhBdXRvLCB0bzogbGFuZ0NvZGUpIHtcblx0XHRjb25zdCBwcmVwYXJlZFRleHQgPSB0aGlzLmVuY29kZUZvckJhdGNoKHRleHQpO1xuXHRcdHJldHVybiBnZXRUb2tlbihwcmVwYXJlZFRleHQuam9pbignJykpLnRoZW4oKHsgdmFsdWU6IHRrIH0pID0+IHtcblx0XHRcdGNvbnN0IGFwaVBhdGggPSAnaHR0cHM6Ly90cmFuc2xhdGUuZ29vZ2xlYXBpcy5jb20vdHJhbnNsYXRlX2EvdCc7XG5cblx0XHRcdGNvbnN0IGRhdGEgPSB7XG5cdFx0XHRcdGFubm86IDMsXG5cdFx0XHRcdGNsaWVudDogJ3RlJyxcblx0XHRcdFx0djogJzEuMCcsXG5cdFx0XHRcdGZvcm1hdDogJ2h0bWwnLFxuXHRcdFx0XHRzbDogdGhpcy5nZXRGaXhlZExhbmd1YWdlKGZyb20pLFxuXHRcdFx0XHR0bDogdGhpcy5nZXRGaXhlZExhbmd1YWdlKHRvKSxcblx0XHRcdFx0dGssXG5cdFx0XHR9O1xuXG5cdFx0XHRjb25zdCB1cmwgPSBhcGlQYXRoICsgJz8nICsgc3RyaW5naWZ5KGRhdGEpO1xuXHRcdFx0Y29uc3QgYm9keSA9IHByZXBhcmVkVGV4dFxuXHRcdFx0XHQubWFwKCh0ZXh0KSA9PiBgJnE9JHtlbmNvZGVVUklDb21wb25lbnQodGV4dCl9YClcblx0XHRcdFx0LmpvaW4oJycpO1xuXG5cdFx0XHRyZXR1cm4gYXhpb3Moe1xuXHRcdFx0XHR1cmw6IHRoaXMud3JhcFVybFRvQ29yc1Byb3h5KHVybCksXG5cdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHR3aXRoQ3JlZGVudGlhbHM6IGZhbHNlLFxuXHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuXHRcdFx0XHRcdC4uLnRoaXMub3B0aW9ucy5oZWFkZXJzLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRkYXRhOiBib2R5LFxuXHRcdFx0fSlcblx0XHRcdFx0LnRoZW4oKHJzcCkgPT4gcnNwLmRhdGEpXG5cdFx0XHRcdC50aGVuKChyYXdSZXNwKSA9PiB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGlmICghQXJyYXkuaXNBcnJheShyYXdSZXNwKSkge1xuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgcmVzcG9uc2UnKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Y29uc3QgaXNTaW5nbGVSZXNwb25zZU1vZGUgPSB0ZXh0Lmxlbmd0aCA9PT0gMTtcblxuXHRcdFx0XHRcdFx0Y29uc3QgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xuXHRcdFx0XHRcdFx0dmlzaXRBcnJheUl0ZW1zKHJhd1Jlc3AsIChvYmopID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKGlzU2luZ2xlUmVzcG9uc2VNb2RlICYmIHJlc3VsdC5sZW5ndGggPT09IDEpIHJldHVybjtcblxuXHRcdFx0XHRcdFx0XHRpZiAodHlwZW9mIG9iaiAhPT0gJ3N0cmluZycpIHJldHVybjtcblxuXHRcdFx0XHRcdFx0XHRpZiAoaXNTaW5nbGVSZXNwb25zZU1vZGUpIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBwYXJzZWRUZXh0ID0gcGFyc2VYTUxSZXNwb25zZShvYmopO1xuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5wdXNoKHBhcnNlZFRleHQgfHwgb2JqKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zdCBwYXJzZWRUZXh0ID0gcGFyc2VYTUxSZXNwb25zZShvYmopO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChwYXJzZWRUZXh0ICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQucHVzaChwYXJzZWRUZXh0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRpZiAocmVzdWx0Lmxlbmd0aCAhPT0gdGV4dC5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0XHRcdCdNaXNtYXRjaGluZyBhIGxlbmd0aHMgb2Ygb3JpZ2luYWwgYW5kIHRyYW5zbGF0ZWQgYXJyYXlzJyxcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdCBhcyBzdHJpbmdbXTtcblx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUud2FybignR290IHJlc3BvbnNlJywgcmF3UmVzcCk7XG5cdFx0XHRcdFx0XHR0aHJvdyBlcnI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cdHByaXZhdGUgZW5jb2RlRm9yQmF0Y2godGV4dExpc3Q6IHN0cmluZ1tdKSB7XG5cdFx0cmV0dXJuIHRleHRMaXN0Lm1hcCgodGV4dCwgaSkgPT4gYDxwcmU+PGEgaT1cIiR7aX1cIj4ke3RleHR9PC9hPjwvcHJlPmApO1xuXHR9XG59XG5cbi8qKlxuICogVHJhbnNsYXRvciBpbXBsZW1lbnRhdGlvbiB3aGljaCB1c2UgR29vZ2xlIEFQSSB3aXRob3V0IHRva2VuXG4gKi9cbmV4cG9ydCBjbGFzcyBHb29nbGVUcmFuc2xhdG9yVG9rZW5GcmVlIGV4dGVuZHMgQWJzdHJhY3RHb29nbGVUcmFuc2xhdG9yIHtcblx0cHVibGljIHN0YXRpYyByZWFkb25seSB0cmFuc2xhdG9yTmFtZSA9ICdHb29nbGVUcmFuc2xhdG9yVG9rZW5GcmVlJztcblxuXHRwdWJsaWMgdHJhbnNsYXRlID0gYXN5bmMgKHRleHQ6IHN0cmluZywgZnJvbTogbGFuZ0NvZGVXaXRoQXV0bywgdG86IGxhbmdDb2RlKSA9PiB7XG5cdFx0Y29uc3QgW3RyYW5zbGF0aW9uXSA9IGF3YWl0IHRoaXMudHJhbnNsYXRlQmF0Y2goW3RleHRdLCBmcm9tLCB0byk7XG5cdFx0cmV0dXJuIHRyYW5zbGF0aW9uO1xuXHR9O1xuXG5cdHB1YmxpYyB0cmFuc2xhdGVCYXRjaCh0ZXh0OiBzdHJpbmdbXSwgZnJvbTogbGFuZ0NvZGVXaXRoQXV0bywgdG86IGxhbmdDb2RlKSB7XG5cdFx0Y29uc3QgYXBpUGF0aCA9ICdodHRwczovL3RyYW5zbGF0ZS5nb29nbGVhcGlzLmNvbS90cmFuc2xhdGVfYS90JztcblxuXHRcdGNvbnN0IGRhdGEgPSB7XG5cdFx0XHRjbGllbnQ6ICdkaWN0LWNocm9tZS1leCcsXG5cdFx0XHRzbDogdGhpcy5nZXRGaXhlZExhbmd1YWdlKGZyb20pLFxuXHRcdFx0dGw6IHRoaXMuZ2V0Rml4ZWRMYW5ndWFnZSh0byksXG5cdFx0XHRxOiB0ZXh0LFxuXHRcdH07XG5cblx0XHRjb25zdCB1cmwgPSBhcGlQYXRoICsgJz8nICsgc3RyaW5naWZ5KGRhdGEpO1xuXG5cdFx0cmV0dXJuIGF4aW9zKHtcblx0XHRcdHVybDogdGhpcy53cmFwVXJsVG9Db3JzUHJveHkodXJsKSxcblx0XHRcdG1ldGhvZDogJ0dFVCcsXG5cdFx0XHR3aXRoQ3JlZGVudGlhbHM6IGZhbHNlLFxuXHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsXG5cdFx0XHRcdC4uLnRoaXMub3B0aW9ucy5oZWFkZXJzLFxuXHRcdFx0fSxcblx0XHR9KVxuXHRcdFx0LnRoZW4oKHJzcCkgPT4gcnNwLmRhdGEpXG5cdFx0XHQudGhlbigocmF3UmVzcCkgPT4ge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGlmICghQXJyYXkuaXNBcnJheShyYXdSZXNwKSkge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIHJlc3BvbnNlJyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y29uc3QgaW50ZXJtZWRpYXRlVGV4dHNBcnJheTogc3RyaW5nW10gPSBbXTtcblx0XHRcdFx0XHR2aXNpdEFycmF5SXRlbXMocmF3UmVzcCwgKG9iaikgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHR5cGVvZiBvYmogPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdFx0XHRcdGludGVybWVkaWF0ZVRleHRzQXJyYXkucHVzaChvYmopO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0Y29uc3QgcmVzdWx0OiBzdHJpbmdbXSA9IFtdO1xuXG5cdFx0XHRcdFx0Y29uc3QgaXNTaW5nbGVSZXNwb25zZU1vZGUgPSB0ZXh0Lmxlbmd0aCA9PT0gMTtcblx0XHRcdFx0XHRjb25zdCBpc09uZVRvT25lTWFwcGluZ01vZGUgPVxuXHRcdFx0XHRcdFx0aW50ZXJtZWRpYXRlVGV4dHNBcnJheS5sZW5ndGggPT09IHRleHQubGVuZ3RoO1xuXHRcdFx0XHRcdGZvciAoY29uc3QgaWR4IGluIGludGVybWVkaWF0ZVRleHRzQXJyYXkpIHtcblx0XHRcdFx0XHRcdGNvbnN0IHRleHQgPSBpbnRlcm1lZGlhdGVUZXh0c0FycmF5W2lkeF07XG5cblx0XHRcdFx0XHRcdGlmIChpc1NpbmdsZVJlc3BvbnNlTW9kZSkge1xuXHRcdFx0XHRcdFx0XHRyZXN1bHQucHVzaCh0ZXh0KTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIEVhY2ggc2Vjb25kIHRleHQgaXQncyBub3QgdHJhbnNsYXRpb24gaWYgbm90IDEtMSBtYXBwaW5nXG5cdFx0XHRcdFx0XHRjb25zdCBpc1RyYW5zbGF0aW9uID1cblx0XHRcdFx0XHRcdFx0aXNPbmVUb09uZU1hcHBpbmdNb2RlIHx8IE51bWJlcihpZHgpICUgMiA9PT0gMDtcblx0XHRcdFx0XHRcdGlmIChpc1RyYW5zbGF0aW9uKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdC5wdXNoKHRleHQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChyZXN1bHQubGVuZ3RoICE9PSB0ZXh0Lmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKCdUcmFuc2xhdGlvbiByZXN1bHQnLCByZXN1bHQpO1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdFx0XHQnTWlzbWF0Y2hpbmcgYSBsZW5ndGhzIG9mIG9yaWdpbmFsIGFuZCB0cmFuc2xhdGVkIGFycmF5cycsXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiByZXN1bHQgYXMgc3RyaW5nW107XG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdGNvbnNvbGUud2FybignR290IHJlc3BvbnNlJywgcmF3UmVzcCk7XG5cdFx0XHRcdFx0dGhyb3cgZXJyO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0fVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxZQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxNQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxPQUFBLEdBQUFILE9BQUE7QUFHQSxJQUFBSSxlQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxNQUFBLEdBQUFMLE9BQUE7QUFDQSxJQUFBTSxNQUFBLEdBQUFOLE9BQUE7QUFDQSxJQUFBTyxVQUFBLEdBQUFQLE9BQUE7QUFBZ0UsU0FBQUQsdUJBQUFTLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVoRTs7Ozs7Ozs7QUFRQSxJQUFNRyxpQkFBaUIsR0FBMkI7RUFDakRDLEVBQUUsRUFBRSxJQUFJO0VBQ1JDLEVBQUUsRUFBRTtDQUNKO0FBRUQ7OztBQUdBO0FBQ0E7QUFDTyxJQUFNQyxrQkFBa0IsR0FBRyxDQUNqQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQzNELElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFDNUQsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUMzRCxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQzNELElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFDNUQsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUMzRCxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQzNELEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLElBQUksRUFDbEUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUMzRCxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQzFELElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFDMUQsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUMxRCxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQzFELE9BQU8sRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUN0QjtBQUNEO0FBQUFDLE9BQUEsQ0FBQUQsa0JBQUEsR0FBQUEsa0JBQUE7QUFFQSxJQUFNRSxnQkFBZ0IsR0FBRyxTQUFBQSxDQUFDQyxJQUFZO0VBQ3JDLElBQUlDLEdBQWE7RUFDakIsSUFBSTtJQUNIQSxHQUFHLEdBQUcsSUFBSUMsaUJBQVMsRUFBRSxDQUFDQyxlQUFlLENBQUNILElBQUksQ0FBQztHQUMzQyxDQUFDLE9BQU9JLEdBQUcsRUFBRTtJQUNiQyxPQUFPLENBQUNDLEtBQUssQ0FBQ0YsR0FBRyxDQUFDO0lBQ2xCLE9BQU8sSUFBSTs7RUFHWixJQUFNRyxvQkFBb0IsR0FBR0MsY0FBSyxDQUFDQyxNQUFNLENBQUMsdUJBQXVCLEVBQUVSLEdBQUcsQ0FBQztFQUV2RSxJQUFJTSxvQkFBb0IsQ0FBQ0csTUFBTSxLQUFLLENBQUMsRUFBRSxPQUFPLElBQUk7RUFDbEQsT0FBT0gsb0JBQW9CLENBQ3pCSSxHQUFHLENBQUMsVUFBQ0MsSUFBSTtJQUNULElBQU1DLFNBQVMsR0FBR0wsY0FBSyxDQUFDQyxNQUFNLENBQUMsVUFBVSxFQUFFRyxJQUFZLENBQUM7SUFDeEQsSUFBSUMsU0FBUyxDQUFDSCxNQUFNLEdBQUcsQ0FBQyxFQUFFO01BQ3pCTCxPQUFPLENBQUNTLEtBQUssQ0FBQywrQkFBK0IsQ0FBQzs7SUFHL0MsT0FBT0QsU0FBUyxDQUFDSCxNQUFNLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBR0csU0FBUyxDQUFDRSxJQUFJLENBQUMsR0FBRyxDQUFDO0VBQ3pELENBQUMsQ0FBQyxDQUNEQSxJQUFJLENBQUMsR0FBRyxDQUFDO0FBQ1osQ0FBQztBQUVEOzs7QUFHQSxJQUFBQyx3QkFBQSwwQkFBQUMsTUFBQTtFQUF1REMsU0FBQSxDQUFBRix3QkFBQSxFQUFBQyxNQUFBO0VBQXZELFNBQUFELHlCQUFBOztFQWlDQTtFQWhDZUEsd0JBQUEsQ0FBQUcsbUJBQW1CLEdBQWpDO0lBQ0MsT0FBTyxJQUFJO0VBQ1osQ0FBQztFQUVhSCx3QkFBQSxDQUFBSSxxQkFBcUIsR0FBbkM7SUFDQyxJQUFNQyxvQkFBb0IsR0FBR0MsTUFBTSxDQUFDQyxXQUFXLENBQzlDRCxNQUFNLENBQUNFLE9BQU8sQ0FBQzlCLGlCQUFpQixDQUFDLENBQUNpQixHQUFHLENBQUMsVUFBQ2MsRUFBVTtVQUFWQyxFQUFBLEdBQUFDLE1BQUEsQ0FBQUYsRUFBQSxJQUFVO1FBQVRHLEdBQUcsR0FBQUYsRUFBQTtRQUFFRyxHQUFHLEdBQUFILEVBQUE7TUFBTSxRQUFDRyxHQUFHLEVBQUVELEdBQUcsQ0FBQztJQUFWLENBQVUsQ0FBQyxDQUNqRTtJQUVELE9BQU8sSUFBQUUsbUNBQXdCLEVBQzlCakMsa0JBQWtCLENBQUNjLEdBQUcsQ0FBQyxVQUFDb0IsSUFBSTs7TUFDM0I7TUFDQSxPQUFPLENBQUFOLEVBQUEsR0FBQUosb0JBQW9CLENBQUNVLElBQUksQ0FBQyxjQUFBTixFQUFBLGNBQUFBLEVBQUEsR0FBSU0sSUFBSTtJQUMxQyxDQUFDLENBQUMsQ0FDRjtFQUNGLENBQUM7RUFFTWYsd0JBQUEsQ0FBQWdCLFNBQUEsQ0FBQUMsY0FBYyxHQUFyQjtJQUNDLE9BQU8sSUFBSTtFQUNaLENBQUM7RUFFTWpCLHdCQUFBLENBQUFnQixTQUFBLENBQUFFLGtCQUFrQixHQUF6QjtJQUNDLE9BQU8sR0FBRztFQUNYLENBQUM7RUFFRDs7O0VBR1VsQix3QkFBQSxDQUFBZ0IsU0FBQSxDQUFBRyxnQkFBZ0IsR0FBMUIsVUFBMkJKLElBQXNCOztJQUNoRCxJQUFJQSxJQUFJLEtBQUssSUFBSSxFQUFFLE9BQU8sT0FBTztJQUNqQyxPQUFPLENBQUFOLEVBQUEsR0FBQS9CLGlCQUFpQixDQUFDcUMsSUFBSSxDQUFDLGNBQUFOLEVBQUEsY0FBQUEsRUFBQSxHQUFJTSxJQUFJO0VBQ3ZDLENBQUM7RUFDRixPQUFBZix3QkFBQztBQUFELENBakNBLENBQXVEb0IsOEJBQWM7QUFpQ3BFdEMsT0FBQSxDQUFBa0Isd0JBQUEsR0FBQUEsd0JBQUE7QUFFRDs7O0FBR0EsSUFBQXFCLGdCQUFBLDBCQUFBcEIsTUFBQTtFQUFzQ0MsU0FBQSxDQUFBbUIsZ0JBQUEsRUFBQXBCLE1BQUE7RUFBdEMsU0FBQW9CLGlCQUFBOztFQXNJQTtFQW5JUUEsZ0JBQUEsQ0FBQUwsU0FBQSxDQUFBTSxtQkFBbUIsR0FBMUIsVUFBMkJ0QyxJQUF1QjtJQUNqRCxJQUFJdUMsS0FBSyxDQUFDQyxPQUFPLENBQUN4QyxJQUFJLENBQUMsRUFBRTtNQUN4QixJQUFNeUMsV0FBVyxHQUFHLElBQUksQ0FBQ0MsY0FBYyxDQUFDMUMsSUFBSSxDQUFDLENBQUNlLElBQUksQ0FBQyxFQUFFLENBQUM7TUFDdEQsSUFBTTRCLEtBQUssR0FBR0YsV0FBVyxDQUFDL0IsTUFBTSxHQUFHLElBQUksQ0FBQ3VCLGNBQWMsRUFBRTtNQUN4RCxPQUFPVSxLQUFLLEdBQUcsQ0FBQyxHQUFHQSxLQUFLLEdBQUcsQ0FBQztLQUM1QixNQUFNO01BQ04sSUFBTUEsS0FBSyxHQUFHM0MsSUFBSSxDQUFDVSxNQUFNLEdBQUcsSUFBSSxDQUFDdUIsY0FBYyxFQUFFO01BQ2pELE9BQU9VLEtBQUssR0FBRyxDQUFDLEdBQUdBLEtBQUssR0FBRyxDQUFDOztFQUU5QixDQUFDO0VBRU1OLGdCQUFBLENBQUFMLFNBQUEsQ0FBQVksU0FBUyxHQUFoQixVQUFpQjVDLElBQVksRUFBRTZDLElBQXNCLEVBQUVDLEVBQVk7SUFBbkUsSUFBQUMsS0FBQTtJQUNDLE9BQU8sSUFBQUMsZUFBUSxFQUFDaEQsSUFBSSxDQUFDLENBQUNpRCxJQUFJLENBQUMsVUFBQ3hCLEVBQWE7VUFBSnlCLEVBQUUsR0FBQXpCLEVBQUEsQ0FBQTBCLEtBQUE7TUFDdEMsSUFBTUMsT0FBTyxHQUFHLGlEQUFpRDtNQUVqRSxJQUFNQyxJQUFJLEdBQUc7UUFDWkMsTUFBTSxFQUFFLEdBQUc7UUFDWEMsRUFBRSxFQUFFUixLQUFJLENBQUNaLGdCQUFnQixDQUFDVSxJQUFJLENBQUM7UUFDL0JXLEVBQUUsRUFBRVQsS0FBSSxDQUFDWixnQkFBZ0IsQ0FBQ1csRUFBRSxDQUFDO1FBQzdCVyxFQUFFLEVBQUVWLEtBQUksQ0FBQ1osZ0JBQWdCLENBQUNXLEVBQUUsQ0FBQztRQUM3QlksRUFBRSxFQUFFLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsR0FBRyxDQUFDO1FBQ2hFQyxFQUFFLEVBQUUsT0FBTztRQUNYQyxFQUFFLEVBQUUsT0FBTztRQUNYQyxHQUFHLEVBQUUsQ0FBQztRQUNOQyxJQUFJLEVBQUUsQ0FBQztRQUNQQyxJQUFJLEVBQUUsQ0FBQztRQUNQQyxFQUFFLEVBQUUsQ0FBQztRQUNMQyxDQUFDLEVBQUVqRSxJQUFJO1FBQ1BrRCxFQUFFLEVBQUFBO09BQ0Y7TUFFRCxJQUFNZ0IsR0FBRyxHQUFHZCxPQUFPLEdBQUcsR0FBRyxHQUFHLElBQUFlLHNCQUFTLEVBQUNkLElBQUksQ0FBQztNQUUzQyxPQUFPZSxjQUFLLENBQ1ZDLEdBQUcsQ0FBQ3RCLEtBQUksQ0FBQ3VCLGtCQUFrQixDQUFDSixHQUFHLENBQUMsRUFBRTtRQUNsQ0ssZUFBZSxFQUFFLEtBQUs7UUFDdEJDLE9BQU8sRUFBRXpCLEtBQUksQ0FBQzBCLE9BQU8sQ0FBQ0Q7T0FDdEIsQ0FBQyxDQUNEdkIsSUFBSSxDQUFDLFVBQUN5QixHQUFHO1FBQUssT0FBQUEsR0FBRyxDQUFDckIsSUFBSTtNQUFSLENBQVEsQ0FBQyxDQUN2QkosSUFBSSxDQUFDLFVBQUN5QixHQUFHO1FBQ1QsSUFBSSxFQUFFQSxHQUFHLFlBQVluQyxLQUFLLENBQUMsSUFBSSxFQUFFbUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxZQUFZbkMsS0FBSyxDQUFDLEVBQUU7VUFDMUQsTUFBTSxJQUFJb0MsS0FBSyxDQUFDLHFCQUFxQixDQUFDOztRQUd2QyxJQUFNQyxjQUFjLEdBQUdGLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FDM0IvRCxHQUFHLENBQUMsVUFBQ2tFLEtBQUs7VUFDVixPQUFBQSxLQUFLLFlBQVl0QyxLQUFLLElBQUksT0FBT3NDLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxRQUFRLEdBQ25EQSxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQ1IsRUFBRTtRQUZMLENBRUssQ0FDTCxDQUNBOUQsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUVWLE9BQU82RCxjQUFjO01BQ3RCLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQztFQUNILENBQUM7RUFFTXZDLGdCQUFBLENBQUFMLFNBQUEsQ0FBQThDLGNBQWMsR0FBckIsVUFBc0I5RSxJQUFjLEVBQUU2QyxJQUFzQixFQUFFQyxFQUFZO0lBQTFFLElBQUFDLEtBQUE7SUFDQyxJQUFNZ0MsWUFBWSxHQUFHLElBQUksQ0FBQ3JDLGNBQWMsQ0FBQzFDLElBQUksQ0FBQztJQUM5QyxPQUFPLElBQUFnRCxlQUFRLEVBQUMrQixZQUFZLENBQUNoRSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQ2tDLElBQUksQ0FBQyxVQUFDeEIsRUFBYTtVQUFKeUIsRUFBRSxHQUFBekIsRUFBQSxDQUFBMEIsS0FBQTtNQUN2RCxJQUFNQyxPQUFPLEdBQUcsZ0RBQWdEO01BRWhFLElBQU1DLElBQUksR0FBRztRQUNaMkIsSUFBSSxFQUFFLENBQUM7UUFDUDFCLE1BQU0sRUFBRSxJQUFJO1FBQ1oyQixDQUFDLEVBQUUsS0FBSztRQUNSQyxNQUFNLEVBQUUsTUFBTTtRQUNkM0IsRUFBRSxFQUFFUixLQUFJLENBQUNaLGdCQUFnQixDQUFDVSxJQUFJLENBQUM7UUFDL0JXLEVBQUUsRUFBRVQsS0FBSSxDQUFDWixnQkFBZ0IsQ0FBQ1csRUFBRSxDQUFDO1FBQzdCSSxFQUFFLEVBQUFBO09BQ0Y7TUFFRCxJQUFNZ0IsR0FBRyxHQUFHZCxPQUFPLEdBQUcsR0FBRyxHQUFHLElBQUFlLHNCQUFTLEVBQUNkLElBQUksQ0FBQztNQUMzQyxJQUFNOEIsSUFBSSxHQUFHSixZQUFZLENBQ3ZCcEUsR0FBRyxDQUFDLFVBQUNYLElBQUk7UUFBSyxhQUFBb0YsTUFBQSxDQUFNQyxrQkFBa0IsQ0FBQ3JGLElBQUksQ0FBQyxDQUFFO01BQWhDLENBQWdDLENBQUMsQ0FDL0NlLElBQUksQ0FBQyxFQUFFLENBQUM7TUFFVixPQUFPLElBQUFxRCxjQUFLLEVBQUM7UUFDWkYsR0FBRyxFQUFFbkIsS0FBSSxDQUFDdUIsa0JBQWtCLENBQUNKLEdBQUcsQ0FBQztRQUNqQ29CLE1BQU0sRUFBRSxNQUFNO1FBQ2RmLGVBQWUsRUFBRSxLQUFLO1FBQ3RCQyxPQUFPLEVBQUFlLFFBQUE7VUFDTixjQUFjLEVBQUU7UUFBbUMsR0FDaER4QyxLQUFJLENBQUMwQixPQUFPLENBQUNELE9BQU8sQ0FDdkI7UUFDRG5CLElBQUksRUFBRThCO09BQ04sQ0FBQyxDQUNBbEMsSUFBSSxDQUFDLFVBQUN5QixHQUFHO1FBQUssT0FBQUEsR0FBRyxDQUFDckIsSUFBSTtNQUFSLENBQVEsQ0FBQyxDQUN2QkosSUFBSSxDQUFDLFVBQUN1QyxPQUFPO1FBQ2IsSUFBSTtVQUNILElBQUksQ0FBQ2pELEtBQUssQ0FBQ0MsT0FBTyxDQUFDZ0QsT0FBTyxDQUFDLEVBQUU7WUFDNUIsTUFBTSxJQUFJYixLQUFLLENBQUMscUJBQXFCLENBQUM7O1VBR3ZDLElBQU1jLHNCQUFvQixHQUFHekYsSUFBSSxDQUFDVSxNQUFNLEtBQUssQ0FBQztVQUU5QyxJQUFNZ0YsUUFBTSxHQUFhLEVBQUU7VUFDM0IsSUFBQUMsc0JBQWUsRUFBQ0gsT0FBTyxFQUFFLFVBQUNqRyxHQUFHO1lBQzVCLElBQUlrRyxzQkFBb0IsSUFBSUMsUUFBTSxDQUFDaEYsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUVqRCxJQUFJLE9BQU9uQixHQUFHLEtBQUssUUFBUSxFQUFFO1lBRTdCLElBQUlrRyxzQkFBb0IsRUFBRTtjQUN6QixJQUFNRyxVQUFVLEdBQUc3RixnQkFBZ0IsQ0FBQ1IsR0FBRyxDQUFDO2NBQ3hDbUcsUUFBTSxDQUFDRyxJQUFJLENBQUNELFVBQVUsSUFBSXJHLEdBQUcsQ0FBQzthQUM5QixNQUFNO2NBQ04sSUFBTXFHLFVBQVUsR0FBRzdGLGdCQUFnQixDQUFDUixHQUFHLENBQUM7Y0FDeEMsSUFBSXFHLFVBQVUsS0FBSyxJQUFJLEVBQUU7Z0JBQ3hCRixRQUFNLENBQUNHLElBQUksQ0FBQ0QsVUFBVSxDQUFDOzs7VUFHMUIsQ0FBQyxDQUFDO1VBRUYsSUFBSUYsUUFBTSxDQUFDaEYsTUFBTSxLQUFLVixJQUFJLENBQUNVLE1BQU0sRUFBRTtZQUNsQyxNQUFNLElBQUlpRSxLQUFLLENBQ2QseURBQXlELENBQ3pEOztVQUdGLE9BQU9lLFFBQWtCO1NBQ3pCLENBQUMsT0FBT3RGLEdBQUcsRUFBRTtVQUNiQyxPQUFPLENBQUN5RixJQUFJLENBQUMsY0FBYyxFQUFFTixPQUFPLENBQUM7VUFDckMsTUFBTXBGLEdBQUc7O01BRVgsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0VBQ0gsQ0FBQztFQUVPaUMsZ0JBQUEsQ0FBQUwsU0FBQSxDQUFBVSxjQUFjLEdBQXRCLFVBQXVCcUQsUUFBa0I7SUFDeEMsT0FBT0EsUUFBUSxDQUFDcEYsR0FBRyxDQUFDLFVBQUNYLElBQUksRUFBRWdHLENBQUM7TUFBSyxzQkFBQVosTUFBQSxDQUFjWSxDQUFDLFNBQUFaLE1BQUEsQ0FBS3BGLElBQUksZUFBWTtJQUFwQyxDQUFvQyxDQUFDO0VBQ3ZFLENBQUM7RUFwSXNCcUMsZ0JBQUEsQ0FBQTRELGNBQWMsR0FBRyxrQkFBa0I7RUFxSTNELE9BQUE1RCxnQkFBQztDQXRJRCxDQUFzQ3JCLHdCQUF3QjtBQXNJN0RsQixPQUFBLENBQUF1QyxnQkFBQSxHQUFBQSxnQkFBQTtBQUVEOzs7QUFHQSxJQUFBNkQseUJBQUEsMEJBQUFqRixNQUFBO0VBQStDQyxTQUFBLENBQUFnRix5QkFBQSxFQUFBakYsTUFBQTtFQUEvQyxTQUFBaUYsMEJBQUE7SUFBQSxJQUFBbkQsS0FBQSxHQUFBOUIsTUFBQSxhQUFBQSxNQUFBLENBQUFrRixLQUFBLE9BQUFDLFNBQUE7SUFHUXJELEtBQUEsQ0FBQUgsU0FBUyxHQUFHLFVBQU81QyxJQUFZLEVBQUU2QyxJQUFzQixFQUFFQyxFQUFZO01BQUEsT0FBQXVELFNBQUEsQ0FBQXRELEtBQUE7Ozs7O2NBQ3JELHFCQUFNLElBQUksQ0FBQytCLGNBQWMsQ0FBQyxDQUFDOUUsSUFBSSxDQUFDLEVBQUU2QyxJQUFJLEVBQUVDLEVBQUUsQ0FBQzs7Y0FBM0RyQixFQUFBLEdBQUFFLE1BQUEsQ0FBQXdFLEtBQUEsVUFBZ0J6RSxFQUFBLENBQUE0RSxJQUFBLEVBQTJDLE9BQTFEQyxXQUFXLEdBQUE5RSxFQUFBO2NBQ2xCLHNCQUFPOEUsV0FBVztVQUFDOzs7S0FDbkI7O0VBd0VGO0VBdEVRTCx5QkFBQSxDQUFBbEUsU0FBQSxDQUFBOEMsY0FBYyxHQUFyQixVQUFzQjlFLElBQWMsRUFBRTZDLElBQXNCLEVBQUVDLEVBQVk7SUFDekUsSUFBTU0sT0FBTyxHQUFHLGdEQUFnRDtJQUVoRSxJQUFNQyxJQUFJLEdBQUc7TUFDWkMsTUFBTSxFQUFFLGdCQUFnQjtNQUN4QkMsRUFBRSxFQUFFLElBQUksQ0FBQ3BCLGdCQUFnQixDQUFDVSxJQUFJLENBQUM7TUFDL0JXLEVBQUUsRUFBRSxJQUFJLENBQUNyQixnQkFBZ0IsQ0FBQ1csRUFBRSxDQUFDO01BQzdCbUIsQ0FBQyxFQUFFakU7S0FDSDtJQUVELElBQU1rRSxHQUFHLEdBQUdkLE9BQU8sR0FBRyxHQUFHLEdBQUcsSUFBQWUsc0JBQVMsRUFBQ2QsSUFBSSxDQUFDO0lBRTNDLE9BQU8sSUFBQWUsY0FBSyxFQUFDO01BQ1pGLEdBQUcsRUFBRSxJQUFJLENBQUNJLGtCQUFrQixDQUFDSixHQUFHLENBQUM7TUFDakNvQixNQUFNLEVBQUUsS0FBSztNQUNiZixlQUFlLEVBQUUsS0FBSztNQUN0QkMsT0FBTyxFQUFBZSxRQUFBO1FBQ04sY0FBYyxFQUFFO01BQW1DLEdBQ2hELElBQUksQ0FBQ2QsT0FBTyxDQUFDRCxPQUFPO0tBRXhCLENBQUMsQ0FDQXZCLElBQUksQ0FBQyxVQUFDeUIsR0FBRztNQUFLLE9BQUFBLEdBQUcsQ0FBQ3JCLElBQUk7SUFBUixDQUFRLENBQUMsQ0FDdkJKLElBQUksQ0FBQyxVQUFDdUMsT0FBTztNQUNiLElBQUk7UUFDSCxJQUFJLENBQUNqRCxLQUFLLENBQUNDLE9BQU8sQ0FBQ2dELE9BQU8sQ0FBQyxFQUFFO1VBQzVCLE1BQU0sSUFBSWIsS0FBSyxDQUFDLHFCQUFxQixDQUFDOztRQUd2QyxJQUFNNkIsd0JBQXNCLEdBQWEsRUFBRTtRQUMzQyxJQUFBYixzQkFBZSxFQUFDSCxPQUFPLEVBQUUsVUFBQ2pHLEdBQUc7VUFDNUIsSUFBSSxPQUFPQSxHQUFHLEtBQUssUUFBUSxFQUFFO1lBQzVCaUgsd0JBQXNCLENBQUNYLElBQUksQ0FBQ3RHLEdBQUcsQ0FBQzs7UUFFbEMsQ0FBQyxDQUFDO1FBRUYsSUFBTWtILE1BQU0sR0FBYSxFQUFFO1FBRTNCLElBQU1DLG9CQUFvQixHQUFHMUcsSUFBSSxDQUFDVSxNQUFNLEtBQUssQ0FBQztRQUM5QyxJQUFNaUcscUJBQXFCLEdBQzFCSCx3QkFBc0IsQ0FBQzlGLE1BQU0sS0FBS1YsSUFBSSxDQUFDVSxNQUFNO1FBQzlDLEtBQUssSUFBTWtHLEdBQUcsSUFBSUosd0JBQXNCLEVBQUU7VUFDekMsSUFBTUssTUFBSSxHQUFHTCx3QkFBc0IsQ0FBQ0ksR0FBRyxDQUFDO1VBRXhDLElBQUlGLG9CQUFvQixFQUFFO1lBQ3pCRCxNQUFNLENBQUNaLElBQUksQ0FBQ2dCLE1BQUksQ0FBQztZQUNqQjs7VUFHRDtVQUNBLElBQU1DLGFBQWEsR0FDbEJILHFCQUFxQixJQUFJSSxNQUFNLENBQUNILEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1VBQy9DLElBQUlFLGFBQWEsRUFBRTtZQUNsQkwsTUFBTSxDQUFDWixJQUFJLENBQUNnQixNQUFJLENBQUM7OztRQUluQixJQUFJSixNQUFNLENBQUMvRixNQUFNLEtBQUtWLElBQUksQ0FBQ1UsTUFBTSxFQUFFO1VBQ2xDTCxPQUFPLENBQUN5RixJQUFJLENBQUMsb0JBQW9CLEVBQUVXLE1BQU0sQ0FBQztVQUMxQyxNQUFNLElBQUk5QixLQUFLLENBQ2QseURBQXlELENBQ3pEOztRQUdGLE9BQU84QixNQUFrQjtPQUN6QixDQUFDLE9BQU9yRyxHQUFHLEVBQUU7UUFDYkMsT0FBTyxDQUFDeUYsSUFBSSxDQUFDLGNBQWMsRUFBRU4sT0FBTyxDQUFDO1FBQ3JDLE1BQU1wRixHQUFHOztJQUVYLENBQUMsQ0FBQztFQUNKLENBQUM7RUE1RXNCOEYseUJBQUEsQ0FBQUQsY0FBYyxHQUFHLDJCQUEyQjtFQTZFcEUsT0FBQUMseUJBQUM7Q0E5RUQsQ0FBK0NsRix3QkFBd0I7QUE4RXRFbEIsT0FBQSxDQUFBb0cseUJBQUEsR0FBQUEseUJBQUEifQ==
